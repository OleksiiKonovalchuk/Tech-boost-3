{"version":3,"file":"static/js/393.bb247cb2.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/UsersPage/UsersPage.module.scss?89ac","API/API.js","webpack://react-homework-template/./src/components/Card/Card.module.scss?2b03","components/Card/Card.jsx","webpack://react-homework-template/./src/components/UsersPage/Dropdown/Dropdown.module.scss?1fea","components/UsersPage/Dropdown/Dropdown.jsx","components/UsersPage/UsersPage.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"usersSection\":\"UsersPage_usersSection__YErj5\",\"users\":\"UsersPage_users__3oCRY\",\"noUsers\":\"UsersPage_noUsers__wdONe\",\"loadMore\":\"UsersPage_loadMore__XyDx4\",\"btnText\":\"UsersPage_btnText__SAa52\"};","import axios from 'axios';\n\nconst instance = axios.create({\n  baseURL: 'https://6478ea36362560649a2ea40e.mockapi.io/api',\n});\n\nexport const getAllUsers = async () => {\n  try {\n    const { data } = await instance.get(`/users?page=1&limit=3`);\n    return data;\n  } catch (err) {\n    console.log(err.message);\n  }\n};\nexport const getUsersFromPage = async page => {\n  try {\n    const { data } = await instance.get(`/users?page=${page}&limit=3`);\n    return data;\n  } catch (err) {\n    console.log(err.message);\n  }\n};\nexport const getUserById = async id => {\n  try {\n    const { data } = await instance.get(`/users/${id}`);\n    return data;\n  } catch (err) {\n    console.log(err.message);\n  }\n};\nexport const updateFollowers = async ({ id, subscribers, sub }) => {\n  try {\n    const followers = !sub ? subscribers + 1 : subscribers - 1;\n    const resp = await instance.put(`/users/${id}`, { followers });\n    return resp;\n  } catch (err) {\n    console.log(err.message);\n  }\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"card\":\"Card_card__zQfcO\",\"logo\":\"Card_logo__-ayHN\",\"avatarWrapper\":\"Card_avatarWrapper__PF0uv\",\"userName\":\"Card_userName__5qEdz\",\"avatar\":\"Card_avatar__7FJg3\",\"tweets\":\"Card_tweets__rIcWe\",\"followers\":\"Card_followers__d3zvM\",\"button\":\"Card_button__hEwJW\",\"active\":\"Card_active__BqLM7\"};","import React, { useState } from 'react';\nimport css from './Card.module.scss';\nimport bg from '../../img/bg.png';\nimport logo from '../../img/Logo.png';\nimport { updateFollowers } from 'API/API';\n\nconst Card = ({ user, storageHandler }) => {\n  const { id, tweets, followers: subscribers, avatar, user: creator } = user;\n\n  const [sub, setSub] = useState(() => {\n    const subs = localStorage.getItem('subs');\n    if (subs) {\n      return subs.includes(creator);\n    }\n    return false;\n  });\n  const [followers, setFollowers] = useState(subscribers);\n\n  const clickHandler = () => {\n    setSub(prev => !prev);\n    storageHandler({ creator, sub });\n\n    setFollowers(prev => {\n      if (sub) {\n        return prev - 1;\n      } else {\n        return prev + 1;\n      }\n    });\n    updateFollowers({ id, subscribers, sub });\n  };\n  return (\n    <div key={id} className={css.card}>\n      <img src={bg} alt=\"bg\" className={css.img} />\n      <img src={logo} alt=\"logo\" className={css.logo} />\n      <div className={css.avatarWrapper}>\n        <img src={avatar} alt=\"avatar\" className={css.avatar} />\n        <p className={css.userName}>{creator}</p>\n      </div>\n      <p className={css.tweets}>{tweets} tweets</p>\n      <p className={css.followers}>{followers} followers</p>\n      <button\n        type=\"button\"\n        className={sub ? `${css.button} ${css.active}` : css.button}\n        onClick={clickHandler}\n      >\n        {sub ? 'following' : 'follow'}\n      </button>\n    </div>\n  );\n};\n\nexport default Card;\n","// extracted by mini-css-extract-plugin\nexport default {\"dropdown\":\"Dropdown_dropdown__5wnDN\",\"control\":\"Dropdown_control__D52Sp\",\"placeholder\":\"Dropdown_placeholder__Qfdrd\",\"menu\":\"Dropdown_menu__9x7jq\",\"option\":\"Dropdown_option__Ppp-c\"};","import Dropper from 'react-dropdown';\nimport css from './Dropdown.module.scss';\nconst options = [\n  { value: 'show all', label: 'Show all', className: `${css.option}` },\n  { value: 'follow', label: 'Follow', className: `${css.option}` },\n  { value: 'followings', label: 'Followings', className: `${css.option}` },\n];\nconst Dropdown = ({ onChange }) => {\n  return (\n    <Dropper\n      className={css.dropdown}\n      controlClassName={css.control}\n      placeholderClassName={css.placeholder}\n      menuClassName={css.menu}\n      options={options}\n      onChange={e => onChange(e.value)}\n      placeholder=\"Select an option\"\n      arrowOpen={true}\n    />\n  );\n};\n\nexport default Dropdown;\n","import React, { useEffect, useState } from 'react';\nimport css from './UsersPage.module.scss';\nimport { getAllUsers, getUsersFromPage } from 'API/API';\nimport Card from 'components/Card/Card';\nimport Dropdown from './Dropdown/Dropdown';\n\nconst UsersPage = () => {\n  const [filter, setFilter] = useState('show all');\n  const [page, setPage] = useState(1);\n  const [users, setUsers] = useState([]);\n  const [following, setFollowing] = useState(\n    JSON.parse(localStorage.getItem(`subs`)) || []\n  );\n  const storageHandler = ({ creator, sub }) => {\n    if (!following.length) {\n      setFollowing([creator]);\n    } else {\n      setFollowing(prev => {\n        if (!sub) {\n          return [...prev, creator];\n        } else return [...prev.filter(item => item !== creator)];\n      });\n    }\n  };\n  const getUsers = async () => {\n    const data = await getAllUsers();\n    return setUsers(data);\n  };\n  useEffect(() => {\n    getUsers();\n  }, []);\n  useEffect(() => {\n    localStorage.setItem(`subs`, JSON.stringify(following));\n  }, [following]);\n\n  useEffect(() => {\n    if (page === 1) return;\n    const updateUsers = async () => {\n      const data = await getUsersFromPage(page);\n      return setUsers(prev => [...prev, ...data]);\n    };\n    updateUsers();\n  }, [page]);\n\n  const filterUsers = item => {\n    switch (filter) {\n      case 'follow':\n        return !following.includes(item.user);\n      case 'followings':\n        return following.includes(item.user);\n      default:\n        return item;\n    }\n  };\n\n  const items = users.length ? (\n    users.filter(filterUsers).map(item => {\n      return <Card key={item.id} user={item} storageHandler={storageHandler} />;\n    })\n  ) : (\n    <p className={css.noUsers}>There are no Users to show!</p>\n  );\n  return (\n    <main>\n      <section className={css.usersSection}>\n        <h1 className=\"visually-hidden\">Users List Section </h1>\n        <Dropdown onChange={setFilter} />\n        <ul className={css.users}>{items}</ul>\n        <button\n          type=\"button\"\n          className={css.loadMore}\n          onClick={() => {\n            setPage(prev => prev + 1);\n          }}\n        >\n          <p className={css.btnText}>Load More</p>\n        </button>\n      </section>\n    </main>\n  );\n};\n\nexport default UsersPage;\n"],"names":["instance","axios","baseURL","getAllUsers","get","data","console","log","message","getUsersFromPage","page","updateFollowers","id","subscribers","sub","followers","put","resp","user","storageHandler","tweets","avatar","creator","useState","subs","localStorage","getItem","includes","setSub","setFollowers","className","css","src","bg","alt","type","onClick","prev","options","value","label","onChange","controlClassName","placeholderClassName","menuClassName","e","placeholder","arrowOpen","filter","setFilter","setPage","users","setUsers","JSON","parse","following","setFollowing","length","item","getUsers","useEffect","setItem","stringify","updateUsers","items","map"],"sourceRoot":""}